[{"path":"index.html","id":"introduction","chapter":"1 Introduction","heading":"1 Introduction","text":"Marine Development Ecology Branch database (MDEBdb) contains geospatial data related better understanding interactions marine development (like offshore wind) NOAA Fisheries scientific surveys trust resources. creation database funded Federal Permitting Improvement Steering Council (FPISC), embodies “shared database, shared schema” approach data management.data dictionary meant catalog communicate structure content MDEBdb, provide meaningful descriptions data objects users.","code":""},{"path":"survey-mitigation.html","id":"survey-mitigation","chapter":"2 Survey Mitigation","heading":"2 Survey Mitigation","text":"[GET TEXT MADISON]","code":""},{"path":"survey-mitigation.html","id":"ecosystem-monitoring-survey","chapter":"2 Survey Mitigation","heading":"2.1 Ecosystem Monitoring Survey","text":"","code":""},{"path":"survey-mitigation.html","id":"arcgis-feature-service","chapter":"2 Survey Mitigation","heading":"2.1.1 ArcGIS Feature Service","text":"Click .","code":""},{"path":"survey-mitigation.html","id":"inport-metadata","chapter":"2 Survey Mitigation","heading":"2.1.2 InPort Metadata","text":"Yes, see .","code":""},{"path":"survey-mitigation.html","id":"description","chapter":"2 Survey Mitigation","heading":"2.1.3 Description","text":"principal objective Ecosystem Monitoring (EcoMon) program assess hydrographic, planktonic pelagic components Northeast U.S. Continental Shelf Ecosystem. Ecosystem Monitoring surveys contribute stock assessments, protected species assessments, ecosystem assessments. EcoMon surveys sample continental shelf 2 – 4 times per year. Plankton samples also collected Northeast Fisheries Science Center spring fall bottom trawl surveys.","code":""},{"path":"survey-mitigation.html","id":"spatial-extent","chapter":"2 Survey Mitigation","heading":"2.1.4 Spatial Extent","text":"","code":""},{"path":"survey-mitigation.html","id":"layers","chapter":"2 Survey Mitigation","heading":"2.1.5 Layers","text":"","code":""},{"path":"survey-mitigation.html","id":"fields","chapter":"2 Survey Mitigation","heading":"2.1.6 Fields","text":"","code":""},{"path":"survey-mitigation.html","id":"ecomon_strata","chapter":"2 Survey Mitigation","heading":"2.1.6.1 ECOMON_Strata","text":"DescriptionEcosystem monitoring plankton stations selected using random-stratified design based Northeast Fisheries Science Center bottom trawl survey design. forty-seven plankton strata across Northeast Shelf ecosystem. strata combined four regions Cape Hatteras Cape Sable (Mid-Atlantic Bight, Southern New England, Georges Bank, Gulf Maine). Thirty randomly selected stations targeted sampling region survey.","code":""},{"path":"survey-mitigation.html","id":"ecomon_stations","chapter":"2 Survey Mitigation","heading":"2.1.6.2 ECOMON_Stations","text":"DescriptionThere thirty-five Ecosystem monitoring fixed hydrographic sampling stations across Northeast Shelf ecosystem. Four transects run inshore continental shelf north Cape Hatteras Cape Cod. One transect bisects Gulf Maine coast Maine across Georges Bank.remaining twelve stations Gulf Maine sample deep basins, banks, coastal areas, inflow (Northeast Channel) flow (Great South Channel) gulf.","code":""},{"path":"survey-mitigation.html","id":"coastal-shark-bottom-longline-survey","chapter":"2 Survey Mitigation","heading":"2.2 Coastal Shark Bottom Longline Survey","text":"","code":""},{"path":"survey-mitigation.html","id":"arcgis-feature-service-1","chapter":"2 Survey Mitigation","heading":"2.2.1 ArcGIS Feature Service","text":"Click .","code":""},{"path":"survey-mitigation.html","id":"inport-metadata-1","chapter":"2 Survey Mitigation","heading":"2.2.2 InPort Metadata","text":"Yes, see .","code":""},{"path":"survey-mitigation.html","id":"description-1","chapter":"2 Survey Mitigation","heading":"2.2.3 Description","text":"Since 1986, members NEFSC Apex Predators Program conductedthirteen Coastal Shark Bottom Longline Surveys along US Atlantic coast April andMay survey year. initial survey conducted 1986 Tampa Bay,Florida, southern Rhode Island (Cruise DE II 89-03) fixed-station survey designcovering 137 stations across three depth strata continental shelf. Since survey,stations survey range truncated due time constraints bottom conditionsat stations. current survey track includes 95 stations extends southernFlorida Delaware.1996, gear updated reflect commercial large coastal sharkfishery soak times increased 3 hours obtain higher catch. Bait, gear, andfishing methods remained since time. Various vessels used tostage survey, F/V Eagle Eye II used consistently since 2012. Station locationsare fixed set direction transects dependent prevailing wind currentdirections. biological studies sharks conducted survey remained thesame since 1986.","code":""},{"path":"survey-mitigation.html","id":"spatial-extent-1","chapter":"2 Survey Mitigation","heading":"2.2.4 Spatial Extent","text":"","code":""},{"path":"survey-mitigation.html","id":"layers-1","chapter":"2 Survey Mitigation","heading":"2.2.5 Layers","text":"","code":""},{"path":"survey-mitigation.html","id":"fields-1","chapter":"2 Survey Mitigation","heading":"2.2.6 Fields","text":"","code":""},{"path":"survey-mitigation.html","id":"csbll_strata","chapter":"2 Survey Mitigation","heading":"2.2.6.1 CSBLL_Strata","text":"","code":""},{"path":"survey-mitigation.html","id":"csbll_stations","chapter":"2 Survey Mitigation","heading":"2.2.6.2 CSBLL_Stations","text":"","code":""},{"path":"survey-mitigation.html","id":"turtle-ecology-survey","chapter":"2 Survey Mitigation","heading":"2.3 Turtle Ecology Survey","text":"","code":""},{"path":"survey-mitigation.html","id":"arcgis-feature-service-2","chapter":"2 Survey Mitigation","heading":"2.3.1 ArcGIS Feature Service","text":"Click .","code":""},{"path":"survey-mitigation.html","id":"inport-metadata-2","chapter":"2 Survey Mitigation","heading":"2.3.2 InPort Metadata","text":"yet.","code":""},{"path":"survey-mitigation.html","id":"description-2","chapter":"2 Survey Mitigation","heading":"2.3.3 Description","text":"primary goal Turtle Ecology program better understand, assess, monitor sea turtle populations Greater Atlantic Region support management needs species recovery goals, mandated Endangered Species Act federal statutes. study sea turtle populations conducting cutting-edge field research, providing data streams, research infrastructure, scientific leadership, partnering federal, state, non-governmental organizations. research typically funded intergovernmental agreements (AMAPPS), proposal processes, /collaboration research organizations.","code":""},{"path":"survey-mitigation.html","id":"spatial-extent-2","chapter":"2 Survey Mitigation","heading":"2.3.4 Spatial Extent","text":"","code":""},{"path":"survey-mitigation.html","id":"layers-2","chapter":"2 Survey Mitigation","heading":"2.3.5 Layers","text":"","code":""},{"path":"survey-mitigation.html","id":"fields-2","chapter":"2 Survey Mitigation","heading":"2.3.6 Fields","text":"","code":""},{"path":"survey-mitigation.html","id":"turtle_strata","chapter":"2 Survey Mitigation","heading":"2.3.6.1 TURTLE_Strata","text":"","code":""},{"path":"survey-mitigation.html","id":"standard-operating-procedure","chapter":"2 Survey Mitigation","heading":"2.4 Standard Operating Procedure","text":"","code":""},{"path":"survey-mitigation.html","id":"naming-convention-for-spatial-tables-in-oracle-database","chapter":"2 Survey Mitigation","heading":"2.4.1 Naming convention for spatial tables in oracle database","text":"NEFSC scientific survey strata compiled oracle database MDEB_SPATIAL schema. spatial tables projected North American Datum 1983 (NAD 83). NEFSC scientific survey strata naming conventions follows:      SCHEMA.PROJECTABBR_SURVEYCODE_STRATA\nexample, Bottom Trawl Survey strata:\n      MDEB_SPATIAL.SMIT_BTS_STRATA\nSurveys associated substrata named follows:\n      SCHEMA.SMIT_SURVEYCODE_SUBSTRATA\nSurveys associated point layer (ex. sample stations) named follows:\n      SCHEMA.SMIT_SURVEYCODE_STATIONS\nSurveys associated line layer (ex. surveylines) named follows:\n      SCHEMA.SMIT_SURVEYCODE_LINES\nMetadata tables associated survey strata named follows:\n      SCHEMA.SMIT_SURVEYCODE_META","code":""},{"path":"survey-mitigation.html","id":"table-1.-nefsc-scientific-survey-names-and-survey-codes","chapter":"2 Survey Mitigation","heading":"2.4.2 Table 1. NEFSC Scientific Survey names and survey codes","text":"","code":""},{"path":"connecting-r-and-arcgis.html","id":"connecting-r-and-arcgis","chapter":"3 Connecting R and ArcGIS","heading":"3 Connecting R and ArcGIS","text":"need install R-ArcGIS Bridge appropriate version R ’re using, can found . downloaded, need unzip install package R local file. Alternatively, can install ESRI directly R:documentation R-Bridge ArcGIS, see . Also, need install ArcGIS metapackage, still development currently includes arcgislayers arcgisutils packages.updates, see .example presented pull data ArcGIS online using feature layer feature server url.\nFigure 3.1: Map USA.\n","code":"\ninstall.packages(\"arcgisbinding\", repos = \"<https://r.esri.com>\", type = \"win.binary\") \nremotes::install_github(\"R-ArcGIS/arcgis\")\n# load libraries\nlibrary(arcgisbinding) \narc.check_product() \nlibrary(arcgislayers)\nlibrary(arcgisutils) \nlibrary(ggplot2)\n\n# connect to ArcGIS.com\narc.portal_connect(url =  \"https://noaa.maps.arcgis.com\", user = \"\", password = \"\") # enter ArcGIS.com username and password\narc.check_portal()\n\n# create an example map of USA using REST API Layer:USA Counties\n# provide feature server url and feature layer\nfeature_server_url <- \"https://services2.arcgis.com/FiaPA4ga0iQKduv3/arcgis/rest/services/TIGERweb_Counties_v1/FeatureServer/0\"\n\n# create a feature layer object\ndata <- arc_open(feature_server_url)\n\n# query the feature layer and return the layer as an sf (simple feature) object\nsf_data <- arc_select(data)\n\n# create map from sf object\nUSA_map <- ggplot(data = sf_data)+\n            geom_sf(fill = \"white\")+ #fill color white\n            coord_sf(xlim= c(-13951910,-7000000), ylim = c(1000000, 7000000)) #set map coordinates (in meters)\nUSA_map"},{"path":"connecting-python-and-arcgis.html","id":"connecting-python-and-arcgis","chapter":"4 Connecting python and ArcGIS","heading":"4 Connecting python and ArcGIS","text":"code connecting arcgis.com via ArcGIS API python, refer https://github.com/Esri/arcgis-python-api source code. documentation https://developers.arcgis.com/python/latest/.\nFigure 4.1: World map\n","code":"# load libraries\nimport arcpy\nimport arcgis\nfrom arcgis.gis import GIS\nfrom arcgis.features import FeatureLayer\nimport pandas as pd\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nfrom shapely.geometry import Polygon\n\n# log into arcgis online\n# see documentation for logging in with various authentication schemes \n# https://developers.arcgis.com/python/latest/guide/working-with-different-authentication-schemes/\nuser = \"\" # enter arcgis.com username\npassword = \"\" # enter arcgis.com password\nportal = \"https://noaa.maps.arcgis.com/\"\ngis = GIS(portal, user, password)\n\n# alternatively, log in using ArcGIS Pro, if Pro is on system computer and is logged into the portal\ngis = GIS(\"PRO\")\n\n# test arcis.com connection\nif gis is not None and gis._portal.is_logged_in:\n  print(f\"Successfully logged in as: {gis.properties.user['username']}\")\nelse:\n  print(\"Login failed.\")\n\n# example map\n# pull data from arcgis online using feature server url, from ArcGIS REST API\n# in this example, taking the World Continents feature layer from Living Atlas \nitem_url = \"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/World_Continents/FeatureServer/0\"\n\n# retrieve item from arcgis online\nworld_layer = FeatureLayer(item_url)\n\n# query feature layer to return all data\nworld_features = world_layer.query(where=\"1=1\")\n\n# create a list to hold the geometries\ngeometries = []\n\n# loop through features to extract geometries\nfor feature in world_features.features:\n  geom = feature.geometry\n  if geom['rings']:\n    for ring in geom['rings']:\n      polygon = Polygon(ring)\n      geometries.append(polygon)\n\n# create geopandas dataframe\ngdf = gpd.GeoDataFrame(geometry=geometries)\n\n# create map using geopandas\nfig,ax = plt.subplots(figsize=(10,6))\ngdf.plot(ax=ax, color='#9bc04b', edgecolor='black') #set fill color and border color\nplt.title('World Map') #set map title\nax.set_xticks([]) #remove tick marks\nax.set_yticks([])\nax.xaxis.set_ticklabels([]) #remove tick labels\nax.yaxis.set_ticklabels([])\nplt.ylim(-9000000,20000000) #set limits of y axis \nplt.show()"}]
